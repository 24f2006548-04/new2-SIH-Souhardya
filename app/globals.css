@tailwind base;
@tailwind components;
@tailwind utilities;

/* Material Design 3 Design Tokens */
:root {
  /* Primary Colors */
  --md-primary: #18A558;
  --md-primary-container: #A7F3D0;
  --md-on-primary: #FFFFFF;
  --md-on-primary-container: #002106;
  
  /* Secondary Colors */
  --md-secondary: #27BF6E;
  --md-secondary-container: #A7F3D0;
  --md-on-secondary: #FFFFFF;
  --md-on-secondary-container: #002106;
  
  /* Surface Colors */
  --md-surface: #FEFBFF;
  --md-surface-dim: #DED8E1;
  --md-surface-bright: #FEFBFF;
  --md-surface-container-lowest: #FFFFFF;
  --md-surface-container-low: #F7F2FA;
  --md-surface-container: #F1ECF4;
  --md-surface-container-high: #EBE6EE;
  --md-surface-container-highest: #E6E0E9;
  
  /* Outline Colors */
  --md-outline: #79747E;
  --md-outline-variant: #CAC4D0;
  
  /* Animation Durations */
  --md-duration-short1: 50ms;
  --md-duration-short2: 100ms;
  --md-duration-short3: 150ms;
  --md-duration-short4: 200ms;
  --md-duration-medium1: 250ms;
  --md-duration-medium2: 300ms;
  --md-duration-medium3: 350ms;
  --md-duration-medium4: 400ms;
  --md-duration-long1: 450ms;
  --md-duration-long2: 500ms;
  --md-duration-long3: 550ms;
  --md-duration-long4: 600ms;
  --md-duration-extra-long1: 700ms;
  --md-duration-extra-long2: 800ms;
  --md-duration-extra-long3: 900ms;
  --md-duration-extra-long4: 1000ms;
  
  /* Easing Functions */
  --md-easing-linear: cubic-bezier(0, 0, 1, 1);
  --md-easing-standard: cubic-bezier(0.2, 0, 0, 1);
  --md-easing-standard-accelerate: cubic-bezier(0.3, 0, 1, 1);
  --md-easing-standard-decelerate: cubic-bezier(0, 0, 0, 1);
  --md-easing-emphasized: cubic-bezier(0.2, 0, 0, 1);
  --md-easing-emphasized-accelerate: cubic-bezier(0.3, 0, 0.8, 0.15);
  --md-easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1);
}

@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-gray-50 text-gray-900;
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
  
  /* Material Design 3 Typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Roboto', sans-serif;
    font-weight: 400;
    letter-spacing: 0;
  }
  
  h1 { font-size: 2.125rem; line-height: 2.5rem; font-weight: 400; }
  h2 { font-size: 1.5rem; line-height: 2rem; font-weight: 400; }
  h3 { font-size: 1.25rem; line-height: 1.75rem; font-weight: 500; }
  h4 { font-size: 1rem; line-height: 1.5rem; font-weight: 500; }
  h5 { font-size: 0.875rem; line-height: 1.25rem; font-weight: 500; }
  h6 { font-size: 0.75rem; line-height: 1rem; font-weight: 500; }
}

@layer components {
  /* Material Design 3 Buttons */
  .btn-primary {
    @apply relative;
    background: linear-gradient(135deg, var(--md-primary) 0%, #27BF6E 100%);
    color: var(--md-on-primary);
    border-radius: 20px;
    padding: 10px 24px;
    font-weight: 500;
    font-size: 0.875rem;
    line-height: 1.25rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 14px 0 rgba(24, 165, 88, 0.25);
    border: none;
    cursor: pointer;
  }
  
  .btn-primary:hover {
    background: linear-gradient(135deg, #27BF6E 0%, var(--md-primary) 100%);
    box-shadow: 0 6px 20px 0 rgba(24, 165, 88, 0.35);
    transform: translateY(-2px);
  }
  
  .btn-primary:active {
    transform: translateY(0px);
    box-shadow: 0 2px 8px 0 rgba(24, 165, 88, 0.25);
  }
  
  .btn-primary:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(24, 165, 88, 0.2), 0 6px 20px 0 rgba(24, 165, 88, 0.35);
  }
  
  .btn-secondary {
    @apply relative;
    background: rgba(255, 255, 255, 0.9);
    color: var(--md-primary);
    border: 2px solid var(--md-primary);
    border-radius: 20px;
    padding: 10px 24px;
    font-weight: 500;
    font-size: 0.875rem;
    line-height: 1.25rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.1);
    cursor: pointer;
    backdrop-filter: blur(10px);
  }
  
  .btn-secondary:hover {
    background: var(--md-primary);
    color: white;
    box-shadow: 0 6px 20px 0 rgba(24, 165, 88, 0.25);
    transform: translateY(-2px);
    border-color: var(--md-primary);
  }
  
  .btn-secondary:active {
    transform: translateY(0px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
  }
  
  .btn-secondary:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(24, 165, 88, 0.2), 0 6px 20px 0 rgba(24, 165, 88, 0.25);
  }
  
  .btn-outline {
    @apply relative overflow-hidden;
    background: transparent;
    color: var(--md-primary);
    border: 1px solid var(--md-outline);
    border-radius: 20px;
    padding: 10px 24px;
    font-weight: 500;
    font-size: 0.875rem;
    line-height: 1.25rem;
    transition: all var(--md-duration-medium2) var(--md-easing-standard);
  }
  
  .btn-outline:hover {
    background: var(--md-primary-container);
    border-color: var(--md-primary);
    transform: translateY(-1px);
  }
  
  .btn-outline:active {
    transform: translateY(0px);
  }
  
  .btn-outline::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--md-primary);
    opacity: 0;
    transition: opacity var(--md-duration-short4) var(--md-easing-standard);
  }
  
  .btn-outline:hover::before {
    opacity: 0.08;
  }
  
  /* Material Design 3 Cards */
  .card {
    @apply relative overflow-hidden;
    background: var(--md-surface-container-low);
    border-radius: 12px;
    padding: 16px;
    transition: all var(--md-duration-medium2) var(--md-easing-standard);
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.30), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
  }
  
  .card:hover {
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.30), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
  
  .card:active {
    transform: translateY(0px);
  }
  
  /* Material Design 3 Input Fields */
  .input-field {
    @apply relative w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
    background: var(--md-surface-container-lowest);
    border: 1px solid var(--md-outline-variant);
    border-radius: 4px;
    padding: 16px;
    transition: all var(--md-duration-medium2) var(--md-easing-standard);
  }
  
  .input-field:focus {
    border-color: var(--md-primary);
    box-shadow: 0 0 0 1px var(--md-primary);
  }
  
  .label {
    @apply block text-sm font-medium text-gray-700 mb-1;
    color: var(--md-on-surface);
    font-weight: 500;
    font-size: 0.875rem;
    line-height: 1.25rem;
  }

  .hero-video-wrap {
    @apply relative w-full h-[60vh] overflow-hidden rounded-xl;
  }

  .hero-video-wrap video {
    @apply absolute inset-0 w-full h-full object-cover;
  }

  .profile-card {
    @apply bg-white rounded-lg shadow-md p-4;
  }

  .text-muted {
    @apply text-gray-500;
  }

  .hero {
    @apply relative w-full h-screen flex items-center justify-center text-center rounded-xl overflow-hidden;
  }

  /* Feature Cards */
  .feature-card {
    animation: fadeUp 420ms cubic-bezier(.22,.9,.35,1) both;
    will-change: transform, opacity;
    @apply cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-xl;
  }
  
  .feature-card[data-index="0"] { animation-delay: 80ms; }
  .feature-card[data-index="1"] { animation-delay: 140ms; }
  .feature-card[data-index="2"] { animation-delay: 200ms; }
  .feature-card[data-index="3"] { animation-delay: 260ms; }
  .feature-card[data-index="4"] { animation-delay: 320ms; }
  .feature-card[data-index="5"] { animation-delay: 380ms; }

  .feature-card .card-inner {
    @apply bg-white rounded-xl border border-gray-200 p-6 h-full flex flex-col;
    transition: transform .28s ease, box-shadow .28s ease, background .3s ease;
  }

  .feature-card:where(.group):hover .card-inner {
    transform: translateY(-8px) rotateX(1.2deg);
    box-shadow: 0 18px 40px rgba(22, 38, 56, .12);
    background: linear-gradient(180deg, rgba(255,255,255,1), rgba(248,255,244,1));
  }

  .feature-card .icon {
    @apply text-4xl mb-4;
  }

  .feature-card h3 {
    @apply text-xl font-semibold text-gray-900 mb-3;
  }

  .feature-card .desc {
    @apply text-gray-600 mb-6 flex-1;
  }

  .feature-card .actions {
    @apply flex gap-2 mt-auto;
  }

  .btn-primary {
    background: linear-gradient(90deg,#18A558,#27BF6E);
    color: #fff;
    box-shadow: 0 6px 18px rgba(24,165,88,.18);
    transition: transform .18s ease, box-shadow .18s ease;
  }

  .btn-primary:focus {
    outline: 3px solid rgba(24,165,88,.18);
  }

  .btn-primary.pulse {
    animation: pulseGlow 2.2s infinite;
  }

  .btn-ghost {
    @apply border border-gray-300 hover:border-gray-400 text-gray-700 hover:text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 bg-transparent hover:bg-gray-50;
  }

  /* Feature Modal */
  .feature-modal {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm;
    border: none;
    padding: 0;
  }

  .feature-modal .modal-content {
    @apply bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden;
  }

  .feature-modal .modal-header {
    @apply flex items-center justify-between p-6 border-b border-gray-200;
  }

  .feature-modal .modal-title {
    @apply text-xl font-semibold text-gray-900;
  }

  .feature-modal .modal-close {
    @apply p-2 hover:bg-gray-100 rounded-lg transition-colors;
  }

  .feature-modal .modal-body {
    @apply p-6 overflow-y-auto max-h-[calc(90vh-120px)];
  }

  .feature-content h3 {
    @apply text-lg font-semibold text-gray-900 mb-3;
  }

  .feature-content h4 {
    @apply text-base font-medium text-gray-800 mb-2 mt-4;
  }

  .feature-content p {
    @apply text-gray-600 mb-3;
  }

  .feature-content ul, .feature-content ol {
    @apply text-gray-600 space-y-1 ml-4;
  }

  .feature-content li {
    @apply text-sm;
  }
}

/* Keyframe Animations */
@keyframes fadeUp {
  from { 
    opacity: 0; 
    transform: translateY(12px) scale(.995); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1); 
  }
}

@keyframes pulseGlow {
  0% { 
    box-shadow: 0 6px 18px rgba(24,165,88,.12); 
    transform: translateY(0); 
  }
  50% { 
    box-shadow: 0 22px 40px rgba(24,165,88,.14); 
    transform: translateY(-2px); 
  }
  100% { 
    box-shadow: 0 6px 18px rgba(24,165,88,.12); 
    transform: translateY(0); 
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .feature-card, .btn-primary.pulse { 
    animation: none !important; 
    transition: none !important; 
    transform: none !important; 
  }
}

/* Focus styles for better accessibility */
.focus-visible {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-gray-800;
  }
}
